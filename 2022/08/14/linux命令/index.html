<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"crayonw.github.io","root":"/blog/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="还是想着如何变优秀吧，别整天奢望遇见对的人，你还太年轻，就算遇到了，也抓不住，你优秀了，自然有对的人与你比肩。">
<meta property="og:type" content="article">
<meta property="og:title" content="linux命令">
<meta property="og:url" content="https://crayonw.github.io/2022/08/14/linux%E5%91%BD%E4%BB%A4/">
<meta property="og:site_name" content="Crayon">
<meta property="og:description" content="还是想着如何变优秀吧，别整天奢望遇见对的人，你还太年轻，就算遇到了，也抓不住，你优秀了，自然有对的人与你比肩。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-08-13T16:21:11.000Z">
<meta property="article:modified_time" content="2022-08-13T16:27:25.668Z">
<meta property="article:author" content="crayon">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="操作系统">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://crayonw.github.io/2022/08/14/linux%E5%91%BD%E4%BB%A4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>linux命令 | Crayon</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Crayon</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">一个服务器，网络项目交付工程师，业余程序员</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/blog/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://crayonw.github.io/2022/08/14/linux%E5%91%BD%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="crayon">
      <meta itemprop="description" content="希望能够与各领域的大佬交流，互相学习，互相进步；认清工作的本质，并坚定的在技术这条道路上不断前行，实现自己心中的理想。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crayon">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          linux命令
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-08-14 00:21:11 / 修改时间：00:27:25" itemprop="dateCreated datePublished" datetime="2022-08-14T00:21:11+08:00">2022-08-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/%E4%B8%93%E4%B8%9A%E7%9F%A5%E8%AF%86/" itemprop="url" rel="index"><span itemprop="name">专业知识</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote><p>还是想着如何变优秀吧，别整天奢望遇见对的人，你还太年轻，就算遇到了，也抓不住，你优秀了，自然有对的人与你比肩。</p>
</blockquote>

<span id="more"></span>

<blockquote>
<p>Linux 系统是一个<strong>多用户多任务</strong>的分时操作系统，任何一个系统资源的用户，都必须首先向管理员申请一个账号，然后以这个账号的身份进入系统，用户的账号可以帮助系统管理员对使用系统的<strong>用户进行跟踪</strong>，并控制系统<strong>资源访问</strong>，也可以帮助用户<strong>组织文件</strong>,并提供<strong>安全性保护</strong></p>
</blockquote>
<ol>
<li><p><strong><em>du</em></strong></p>
<ul>
<li>du - sh &#x2F;*(列出&#x2F;下全部文件硬盘所占空间)</li>
</ul>
</li>
<li><p><strong><em>dpkg</em></strong></p>
<ul>
<li>dpkg -l (列出系统全部软件安装包)</li>
</ul>
</li>
<li><p><strong><em><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_33976072/article/details/92211865">ssh</a></em></strong></p>
<ul>
<li>-T(Disable pseudo-tty allocation)只是确认 ssh 命令成功，不分配伪终端</li>
<li>-N(Do not execute a remote command. This is useful for just forwarding ports)不执行远程命令，只做隧道转发时使用<blockquote>
<p>ssh -i [私钥路径] -N -T -L*:13838:localhost:13838 [用户名]@[远程服务器名]</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong><em>linux 根目录下各文件</em></strong></p>
<ul>
<li>&#x2F;bin: Binaries(二进制文件)的缩写，存放经常使用的命令</li>
<li>&#x2F;boot: 启动 linux 时使用的核心文件，包括一些连接文件和镜像文件</li>
<li>&#x2F;dev: Device(设备)访问外部设备的文件</li>
<li>&#x2F;etc: Etcetera(等等)存放系统管理所需的配置文件和子目录</li>
<li>&#x2F;home: 用户主目录，每个用户都会在该目录下生成自己的目录</li>
<li>&#x2F;lib: Library(库)系统所需要最基本的动态连接共享库，应用程序的基础</li>
<li>&#x2F;lost+found: 当系统非法关机后，这里就存放一些文件</li>
<li>&#x2F;media: U 盘和光驱等，在识别后会先挂载到这个目录下</li>
<li>&#x2F;mnt: 系统提供给用户临时挂载别的文件系统</li>
<li>&#x2F;opt: optional(可选)，额外安装软件所放的目录</li>
<li>&#x2F;proc: Processes(进程),虚拟文件系统，系统内存的映射</li>
<li>&#x2F;root: 系统管理员主目录</li>
<li>&#x2F;sbin: Superuser Binaries，存放管理员使用的系统管理程序</li>
<li>&#x2F;selinux: 这个目录是 Redhat&#x2F;CentOS 所特有的目录，Selinux 是一个安全机制，类似于 windows 的防火墙，但是这套机制比较复杂，这个目录就是存放 selinux 相关的文件的。</li>
<li>&#x2F;srv:该目录存放一些服务启动之后需要提取的数据</li>
<li>&#x2F;sys:</li>
<li>&#x2F;tmp: 存放临时文件</li>
<li>&#x2F;usr: unix shared resources(共享资源)用户的很多程序和文件都放在这</li>
<li>&#x2F;usr&#x2F;bin: 系统用户使用的应用程序</li>
<li>&#x2F;usr&#x2F;sbin: 超级用户使用的比较高级的管理程序和系统守护程序</li>
<li>&#x2F;usr&#x2F;src: 内核源代码默认存放的目录</li>
<li>&#x2F;var: variable(变量) 大小不断变化的文件目录，一般存放日志</li>
<li>&#x2F;run: 临时文件系统，重启系统后，改文件下的内容都会被清空</li>
</ul>
</li>
<li><p><strong><em>linux 链接概念</em></strong></p>
<ul>
<li>硬连接(Hard Link)指通过索引节点来进行连接<blockquote>
<p>在 linux 文件系统中，文件都会分配一个编号，成为索引节点号(Inode Index),两个文件名指向同一个文件，删除其中一个任何一个都不会影响另外一个的访问，文件真正的删除条件时与之相关的所有硬连接文件均被删除</p>
</blockquote>
</li>
<li>软连接(Symbolic Link)<blockquote>
<p>类似 Windows 中的快捷键，软连接文件存放的是文件的路径名，两者的 Inode 是不同的</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong><em>用户账号相关的文件</em></strong></p>
<ul>
<li>&#x2F;etc&#x2F;passwd 文件记录用户的一些基本属性<blockquote>
<p>其中格式和具体含义: 用户名：口令：用户标识号：组标识号：注释性描述:主目录:登录 shell，其中系统中有一类为伪用户</p>
</blockquote>
</li>
<li>&#x2F;etc&#x2F;shadow 文件存放加密后的口令，只有超级用户才拥有该文件的读权限</li>
<li>&#x2F;etc&#x2F;shadow 中的记录行与&#x2F;etc&#x2F;passwd 中的一一对应，它由 pwconv 命令根据&#x2F;etc&#x2F;passwd 中的数据自动产生<blockquote>
<p>登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志</p>
</blockquote>
</li>
<li>&#x2F;etc&#x2F;group 文件中存放用户组信息，一个组可以有多个用户，一个用户也可以属于不同的组<blockquote>
<p>用户要访问附加组时，需要先进行切换 usergrp，文件内容格式: 组名：口令：组标识号：组内用户列表<br><strong>添加用户到用户组中之后要先执行 newgrp [用户组]</strong></p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong><em>linux 磁盘管理</em></strong></p>
<ul>
<li>df: 列出文件系统的整体磁盘使用量(df -h)</li>
<li>du: 检查磁盘空间使用量</li>
<li>fdisk: 用于磁盘分区</li>
<li>fsck: 磁盘检查，用来检查和维护不一致的文件系统</li>
<li>mount&#x2F;umount: 磁盘挂载与卸除</li>
</ul>
</li>
<li><p><strong>常用有效的命令</strong></p>
<ul>
<li>systemctl list-unit-files(开机启动的服务的状态)</li>
</ul>
</li>
</ol>
<blockquote>
<p>计算机网络的核心内容就是网络协议，网络协议是为了计算机在网络中进行数据交换而建立的规则，标准或者说约定的集合(不同用户终端可能采用的字符集不同，需要一定的标准)。TCP&#x2F;IP 标准网络协议是 Internet 中的“通用语言”</p>
</blockquote>
<ol start="9">
<li><p><strong>网络层次划分</strong></p>
<ol>
<li><p>OSI 七层网络模型</p>
<blockquote>
<p>1978 年国际标准化组织(ISO)提出的“开放系统互联参考模型”，将计算机网络体系结构的通信协议划分为七层：物理层(Physics Layer)，数据链路层(Data Link Layer)，网络层(Network layer)，传输层(Transport Layer)，会话层(Session Layer)，表示层(Presentation Layer)， 应用层(Application Layer)，其中第四层完成数据传送服务，上面三层面向用户</p>
</blockquote>
</li>
<li><p>TCP&#x2F;IP 分层</p>
<ul>
<li><p>应用层(&#x3D;应用层，表示层，会话层)</p>
<blockquote>
<p>使用协议有 SMTP,FTP,TELNET,DNS,TFTP,RPC 等(传递对象：报文)，主机之间会话进程，即负责建立，管理，终止进程之间的会话，会话层还利用在数据中插入校验点来实现数据的同步</p>
</blockquote>
</li>
<li><p>传输层(&#x3D;传输层)</p>
<blockquote>
<p>使用协议有 TCP,UDP(传输协议分组)，提供上层数据分段并提供端到端的，可靠的或不可靠的传输，还要处理端到端的差错控制和流量控制问题。重要设备：网关</p>
</blockquote>
</li>
<li><p>网际网层(IP 层&#x3D;网络层)</p>
<blockquote>
<p>IP(ICMP 等),ARP,RARP(IP 数据报)，实现两个端系统之间的数据透明传送，具体功能包括寻址和路由选择，连接的建立，保持和终止等(路径选择，路由及逻辑寻址)。IP 协议配套使用的有地址解析协议 ARP，逆地址解析协议 RARP，因特网报文协议 ICMP，因特网组管理协议 IGMP，重要设备路由器</p>
</blockquote>
</li>
<li><p>网络接口(&#x3D;数据链路层)</p>
<blockquote>
<p>帧(网络接口协议-链路控制和媒体访问)，需要具备相应的功能，如何将数据组合成数据块(帧 frame)，如何控制在物理信道上的传输，包括如何处理传输错误，如何调节发送速率以使与接收方相匹配，以及在两个网络实体之间提供数据链路通路的建立，维持和释放的管理。该层的作用包括：物理地址寻址，数据的成帧，流量控制，数据的检错，重发等。网桥和交换机对应下层的硬件</p>
</blockquote>
</li>
<li><p>硬件(物理网络&#x3D;物理网络)</p>
<blockquote>
<p>以太网，令牌环，X.25 网，FDDI，其他网络，激活|维持|关闭通信端点之间的机械特性|电气特性|功能特性以及过程特性，该层需要为上层协议提供一个传输数据的可靠的物理媒体，有两个重要的设备：中继器(Repeater，也加放大器)和集线器</p>
</blockquote>
</li>
</ul>
</li>
</ol>
</li>
<li><p><strong>ARP&#x2F;RARP 协议</strong></p>
<ol>
<li>Address Resolution Protocol,根据 IP 地址获取物理地址的一个 TCP&#x2F;IP 协议，确认目标的物理地址后，将信息存入本机 ARP 缓存中并保留一定时间，下次请求直接查询 ARP 缓存</li>
<li>RARP 将逆解析根据 mac 地址解析出 ip 地址</li>
</ol>
</li>
<li><p><strong>路由选择协议</strong></p>
<ol>
<li>RIRP 协议：底层是贝尔曼福特算法，它选择路由的度量标准(metric)是跳数，最大跳数是 15 跳，它就会自动丢弃数据包</li>
<li>OSPF 协议：Open Shortest Path First 开放式最短路径优先，底层是迪杰斯特拉算法，是链路状态路由选择协议，它选择路由的度量标准是带宽，延迟</li>
</ol>
</li>
<li><p><strong>TCP&#x2F;IP 协议</strong></p>
<ol>
<li>TCP 负责发现传输的问题，一有问题就发出信号，要求重新传输，知道所有数据安全正确地传输到目的地</li>
<li>通过三次握手建立连接，通讯完成时需要拆除连接，是一种可靠的数据流服务</li>
<li>TCP 报文首部格式(固定 20 字节)<blockquote>
<p>源端口-目的端口-序号-确认号-数据偏移-保留-URG-ACK-PSH-PST-SYN-FIN-窗口-校验和-紧急指针-选线(长度可变)-填充<br>———TCP 首部|TCP 报文段的数据部分<br>IP 首部|—IP 数据报的数据部分</p>
</blockquote>
</li>
<li>TCP 协议的三次握手和四次挥手<blockquote>
<p>SYN(synchronize 请求同步)—客户端—-&gt;SYN+AKC(acknowledge 确认标志)—-服务器—&gt;ACK<br>开启数据传输<br>FIN(finally 结束标注)—-客户端—&gt;DATA+ACK—-服务器—&gt;FIN—–客户端—–&gt;ACK—服务器停止—&gt;CLOSE</p>
</blockquote>
</li>
</ol>
</li>
<li><p><strong>UDP 协议</strong></p>
<blockquote>
<p>用户数据报协议，是面向无连接的通讯协议，可以实现广播发送，通信时不需要接收方确认，属于不可靠传输，可能出现丢包现象</p>
</blockquote>
</li>
<li><p><strong>完整示例</strong></p>
<ol>
<li>客户端浏览器通过 DNS 解析到<a target="_blank" rel="noopener" href="http://www.baidu.com的ip地址220.181.27.48,通过这个ip地址找到客户端到服务器的路径.客户端浏览器发起一个http会话到220.161.27.48,然后通过tcp进行封装数据包,输入到网络层./">www.baidu.com的IP地址220.181.27.48，通过这个IP地址找到客户端到服务器的路径。客户端浏览器发起一个HTTP会话到220.161.27.48，然后通过TCP进行封装数据包，输入到网络层。</a></li>
<li>在客户端的传输层，把 HTTP 会话请求分成报文段，添加源和目的端口，如服务器使用 80 端口监听客户端的请求，客户端由系统随机选择一个端口如 5000，与服务器进行交换，服务器把相应的请求返回给客户端的 5000 端口。然后使用 IP 层的 IP 地址查找目的端。</li>
<li>客户端的网络层不用关系应用层或者传输层的东西，主要做的是通过查找路由表确定如何到达服务器，期间可能经过多个路由器，这些都是由路由器来完成的工作，不作过多的描述，无非就是通过查找路由表决定通过那个路径到达服务器。</li>
<li>客户端的链路层，包通过链路层发送到路由器，通过邻居协议查找给定 IP 地址的 MAC 地址，然后发送 ARP 请求查找目的地址，如果得到回应后就可以使用 ARP 的请求应答交换的 IP 数据包现在就可以传输了，然后发送 IP 数据包到达服务器的地址。</li>
</ol>
</li>
<li><p><strong>DHCP 中默认地址说明</strong></p>
<ul>
<li>ip 地址 0.0.0.0&#x2F;255.255.255.255(四个阶段 discover-offer-request-ack)<blockquote>
<p>主机启动时，自身为 0.0.0.0(对于计算机来说就是空白 ip)，并使用 255.255.255.255 这个地址在网路上广播，DHCP Server(动态 IP 服务)能收到消息，并恢复给主机一个新的 IP 地址(通过主机的 mac 地址进行广播式回复)，网路上的其他设备不作回应(因为没有分配 IP 的能力)</p>
</blockquote>
</li>
<li>子网掩码的作用(同 IP 结合使用)<blockquote>
<p>屏蔽部分 ip 地址，区分网络标识和主机标识，解释 IP 地址是在局域网上还是在远程网络上；其次将大的 IP 网络划分为几个小的子网络，对子网进行划分提高网络应用的效率(IPV4 中使用，IPV6 不需要)</p>
</blockquote>
</li>
<li>主机中存在回环地址 ol，使用 127.0.0.0&#x2F;8，常用于对本机的测试</li>
</ul>
</li>
<li><p><strong>影响 linux 系统的因素</strong></p>
</li>
</ol>
<ul>
<li>cpu 的数量，主频，超频<blockquote>
<p>cat &#x2F;proc&#x2F;cpuinfo</p>
</blockquote>
</li>
<li>内存的大小，频率<blockquote>
<p>cat &#x2F;proc&#x2F;meminfo</p>
</blockquote>
</li>
<li>磁盘 IO，常见的 RAID 技术<blockquote>
<p>sar -b 1 10 &#x2F;&#x2F;每秒显示一次，一共显示 10 次</p>
</blockquote>
</li>
<li>网络带宽，千兆万兆<blockquote>
<p>sudo nload &#x2F;&#x2F;查看实时网速带宽</p>
</blockquote>
</li>
</ul>
<ol start="9">
<li><p><strong>服务器网口如何和网卡进行对应</strong></p>
<blockquote>
<p>entool 软件进行定位</p>
</blockquote>
</li>
<li><p><strong>服务器网络不通</strong></p>
</li>
</ol>
<ul>
<li><p>出现的情况</p>
<ul>
<li>服务器通，应用或网站不一定正常</li>
<li>服务器不通，则应用或网站肯定不正</li>
</ul>
</li>
<li><p>服务器不通的排查流程</p>
<ul>
<li><p>测试</p>
<blockquote>
<p>ping 服务器 IP，tcping 或 telnet 端口，tracket 断点</p>
</blockquote>
</li>
<li><p>登录</p>
<blockquote>
<p>登录控制台检查，正常-&gt;进入内部排查，死机、蓝屏-&gt;重启服务器，无控制台-&gt;重启或工单</p>
</blockquote>
</li>
<li><p>排查</p>
<blockquote>
<p>安全组，网卡配置，防火墙，路由和远程访问，端口监听，安全软件，系统是否终端</p>
</blockquote>
</li>
<li><p>重启</p>
<blockquote>
<p>重启服务器可解决部分，未排查到的或者资源问题</p>
</blockquote>
</li>
</ul>
</li>
<li><p>网络不通问题的排查基本思路</p>
<ul>
<li>检查物理链路是否有问题</li>
<li>查看本机 IP 地址、路由、DNS 的设置是否有问题</li>
<li>测试网关或路由器的通畅情况，一级一级地测试</li>
<li>测试 ping 公网 ip 的通畅情况</li>
<li>测试 DNS 的通畅情况，可直接 ping 网站地址</li>
</ul>
</li>
</ul>
<ol start="11">
<li><strong>web、应用、数据库服务器操作系统</strong></li>
</ol>
<ul>
<li>windows server 服务器操作系统（2008R2、2012）</li>
<li>Netware 服务器操作系统（Novell3.11、3.12、4.10、5.0）</li>
<li>Unix（SCO SVR、SUN Solaris 和 BSD Unix）</li>
<li>Linux（RedHat7.6，Centos，Untunu）</li>
</ul>
<ol start="12">
<li><strong>linux 系统安装知识</strong></li>
</ol>
<ul>
<li><ol>
<li>创建&#x2F;boot 空间，大小设置为 2000，单位默认为 MB<blockquote>
<p>在实际工作中可针对服务器的作用和性能调节此值得大小<br>启动分区：容量不需要太大，200MB 足够</p>
</blockquote>
</li>
</ol>
</li>
<li><ol start="2">
<li>创建 swap 的使用量，大小设置为 2048，单位默认为 MB<blockquote>
<p>在实际工作中可针对服务器的作用和性能调节此值的大小<br>交换分区(swap)：虚拟内存一本配置为物理内存的 2 倍</p>
</blockquote>
</li>
</ol>
</li>
<li><ol start="3">
<li>创建 biosboot 空间，大小设置为 1MB<blockquote>
<p>此空间如果不创建在一些环境中系统会出错</p>
</blockquote>
</li>
</ol>
</li>
<li><ol start="4">
<li>创建空间，大小设置为空，将划分余下的所有空间给&#x2F;分区<blockquote>
<p>余下的容量全部给根分区</p>
</blockquote>
</li>
</ol>
</li>
</ul>
<ol start="13">
<li><strong>文件系统介绍</strong></li>
</ol>
<ul>
<li>ext2&#x2F;ext3&#x2F;ext4<blockquote>
<p>linux 的文件系统类型。由于 ext3&#x2F;4 文件系统多了日志的记录，对于系统的复原比较快速。由于磁盘容量越来越大，ext 就有点不行了，除非你有特殊的需求，基本不用这种方式了</p>
</blockquote>
</li>
<li>xfs<blockquote>
<p>是目前 centos 预设的文件系统，最早是由大型服务器所开发出来的，有点就是对大容量磁盘管理好，格式化速度相当快，很适合 TB 级别的磁盘环境</p>
</blockquote>
</li>
<li>vfat<blockquote>
<p>同时被 linux 与 windows 所支持的文件系统类型。如果你的主机硬盘内同时存在 windows 与 linux 系统，为了数据交换，就可以建立一个 vfat 的文件系统</p>
</blockquote>
</li>
</ul>
<ol start="14">
<li><p><strong>kdump</strong></p>
<blockquote>
<p>kdump 是一个内核崩溃转储机制。在系统崩溃的时候，kdump 将捕获系统信息，这对于诊断崩溃的原因非常有用。注意，kdump 需要留一部分系统内存，且这部分内存对于其他用户是不可用的（采用默认配置即可）</p>
</blockquote>
</li>
<li><p><strong>操作系统</strong></p>
</li>
<li><p>系统内核(kernel)</p>
<blockquote>
<p>一组程序，这组程序重点在于管理计算机的所有活动以及驱动系统中的所有硬件</p>
</blockquote>
</li>
<li><p>系统调用(system call)</p>
<blockquote>
<p>所有的硬件由内核管理，那么开发程序就由参考硬件函数变成参考内核功能，所以操作系统通常都会提供一整组开发接口给工程师使用<br>操作系统的角色就分为一下几个：</p>
</blockquote>
<ul>
<li><ol>
<li>硬件</li>
</ol>
</li>
<li><ol start="2">
<li>内核：主要管理硬件，提供合理的计算机系统资源分配（CPU、内存使用资源等）</li>
</ol>
</li>
<li><ol start="3">
<li>系统调用</li>
</ol>
</li>
<li><ol start="4">
<li>应用程序<blockquote>
<p>内核主要负责计算机系统相关的资源分配与管理，最重要的就是 CPU 与内存，至少有以下几个功能：</p>
</blockquote>
</li>
</ol>
</li>
<li>系统调用接口(system call interface)</li>
<li>程序管理(process control)</li>
<li>内存管理(memory management)</li>
<li>文件系统(filessystem management)</li>
<li>设备驱动(device driver)</li>
</ul>
</li>
<li><p><strong>GUID partition table,GPT 磁盘分区表</strong></p>
</li>
<li><p>LBA0(MBR 相容区块)</p>
<blockquote>
<p>前 446byte 存放开机管理程序，兼容 MBR，而原本的分区表的记录放入一个特殊表示，表示是 GPT 格式，而不懂 GPT 分区表的磁盘管理程序则不能识别该磁盘</p>
</blockquote>
</li>
<li><p>LBA1(GPT 表头记录)</p>
<blockquote>
<p>记录了分区表本身的位置与大小与被备份区分的存放位置，同时放置了分区表的校验机制码(CRC32)，操作系统可以根据这个校验码来判断 GPT 是否正确。若有错误，则可通过这个记录区来取得备份的 GPT，来恢复 GPT 的正常运行</p>
</blockquote>
</li>
<li><p>LBA2-33(实际记录分区信息处)</p>
<ul>
<li>GPT 分区默认可以提供 128 笔记录</li>
<li>linux 内核通过 udev 方式，可以突破这限制</li>
<li>GPT 没有主、延伸、逻辑分区概念<blockquote>
<p>不是所有的操作系统都可以读取到 GPT 的磁盘分区格式，也不是所有的硬件都支持 GPT 格式，是否能够读写 GPT 格式与开机检测程序有关(BIOS 与 UEFI)</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>BIOS 搭配 MBR&#x2F;GPT 的开机流程</strong></p>
</li>
<li><p>BIOS：开机主动执行的固件，会认识第一个可开机的设备</p>
</li>
<li><p>MBR：第一可开机设备的第一个扇区内的组要开机记录区块，内含开机管理程序</p>
</li>
<li><p>开机管理程序(boot loader)：载入核心文件</p>
</li>
<li><p>核心文件：开始操作系统的功能</p>
<blockquote>
<p>如果 BIOS 支持 GPT 的话，那么就能够从 LBA0 的 MBR 相容区块读取第一阶段的开机管理程序码</p>
</blockquote>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">由于LBA0仅提供第一阶段的开机管理程序码，因此如何使用类似grub的开机管理程序的话，就需要额外分区出一个**BIOS boot**的分区来放置其他开机过程中所需要的程序码，在centos中一般占用2MB左右</span><br></pre></td></tr></table></figure>

<ol start="18">
<li><p><strong>boot loader 主要任务</strong></p>
<ol>
<li>提供菜单：使用者可以选择不同的开机项目，这也是多重开机的重要功能</li>
<li>载入核心文件：直接指向可开机的程序区段来开始操作系统</li>
<li>转交其他 loader：将开机管理功能转交给其他的 loader 负责<ol>
<li>一块硬盘安装多个系统<ol>
<li>每个分区都拥有自己的开机扇区(boot sector)</li>
<li>实际可开机的核心文件是放置到各分区的</li>
<li>loader 只会认识自己的系统盘内的可开机核心文件，以及其他的 loader 而已</li>
<li>loader 可直接指向或则是间接将管理权转交给另一个管理程序</li>
</ol>
</li>
<li>UEFI BIOS 搭配 GPT 开机的流程<blockquote>
<p>UEFI 像是一个低阶的操作系统，连主板上面的硬件资源管理都与操作系统类似</p>
</blockquote>
</li>
</ol>
</li>
</ol>
</li>
<li><p><strong>linux 版本说明</strong></p>
<ol>
<li>erverthing：完整版本</li>
<li>DVD1：有大部分安装软件的版本</li>
<li>LiveCD&#x2F;LiveGNOME&#x2F;LiveDE：只想要看看到底开机会是说明 linux 环境</li>
<li>minimal：想要练功，就直接使用最小安装光盘版<ol>
<li>Centos-7-x86_64-Everything-1908.iso<ul>
<li>Centos-7：7.x 版本</li>
<li>x86_64：指 64 位操作系统</li>
<li>Everything：指完整版本</li>
<li>1908：表示 2019 年 08 月发表的版本</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
<li><p><strong>linux 详细内容学习(<a target="_blank" rel="noopener" href="https://www.pythonav.com/wiki/detail/3/28/">https://www.pythonav.com/wiki/detail/3/28/</a>)</strong></p>
<ol>
<li><p>文件类型</p>
<ul>
<li>“-“ 一般文件</li>
<li>“d” 文件夹</li>
<li>“l” 软连接</li>
<li>“b” 块设备，存储媒体文件为主</li>
<li>“c” 代表键鼠等设备</li>
</ul>
</li>
<li><p>文件权限</p>
<ul>
<li>“r” read 可读，可以用 cat 等命令查看</li>
<li>“w” write 写入，可以编辑或删除这个文件</li>
<li>“x” executeable 可以执行</li>
</ul>
</li>
<li><p>文件权限</p>
<ul>
<li>“r” 可以对此目录执行 ls 列出所有文件</li>
<li>“w” 可以在这个目录创建文件</li>
<li>“x” 可以 cd 进入这个目录，或者查看详细信息</li>
</ul>
</li>
<li><p>运维面试问题</p>
<blockquote>
<p>比如 mysql 怎么做主备？</p>
<p>Linux 怎么去检索文件中想要的字段？</p>
<p>Redis 做持久化用什么命令？</p>
<p>docker run –rm 是什么意思？</p>
<p>​ 创建 container，如果有重名的 container 则删除原来的容器，并重新创建</p>
<p>华为设备怎么去划分一个 vlan10？</p>
<p>zabbix 怎么去创建宏并调用？</p>
<p>Nginx 怎么去创建权重代理？<br>要问这些对工作有用的东西，这才能考察能力，你问他 centos 版本差异，索引原理这些的，答上来了就能代表能干活了？如果仅仅是背书就能面试的话，那只能说 up 还没有遇到背书厉害的人。</p>
</blockquote>
</li>
<li><p>linux 软件管理工具</p>
<blockquote>
<p>yum 工具，使用软件仓库进行下载 yum install nginx -y，阿里云仓库<a target="_blank" rel="noopener" href="https://developer.aliyun.com/mirror/">https://developer.aliyun.com/mirror/</a></p>
<p>LAMP 架构，Linux，Apach(nginx)，Mysql，后端程序(PHP)传统的单机应用部署架构</p>
<p><strong>为什么要讲 selinux 设置成 disable 的 php 程序才能正常对服务器的文件进行读写执行操作？？？？</strong></p>
<p>Ssh-keygen -f ~&#x2F;.ssh&#x2F;id_rsa -P “” &gt; &#x2F;dev&#x2F;null 2&gt;&amp;1</p>
<p>查询磁盘的使用情况，内存情况，网络 IO，磁盘 IO 脚本</p>
</blockquote>
</li>
</ol>
</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/blog/tags/linux/" rel="tag"># linux</a>
              <a href="/blog/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag"># 操作系统</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/2022/08/14/ansible%E4%BD%BF%E7%94%A8/" rel="prev" title="ansible使用">
      <i class="fa fa-chevron-left"></i> ansible使用
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/2022/08/14/linux%E7%B3%BB%E7%BB%9F%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/" rel="next" title="linux系统磁盘管理">
      linux系统磁盘管理 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">crayon</p>
  <div class="site-description" itemprop="description">希望能够与各领域的大佬交流，互相学习，互相进步；认清工作的本质，并坚定的在技术这条道路上不断前行，实现自己心中的理想。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/CrayonW" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;CrayonW" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/7055393693" title="微博 → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;7055393693" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>微博</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.douban.com/people/194215771/?_i=04044813bwuTUN" title="豆瓣 → https:&#x2F;&#x2F;www.douban.com&#x2F;people&#x2F;194215771&#x2F;?_i&#x3D;04044813bwuTUN" rel="noopener" target="_blank"><i class="fab fa-douban fa-fw"></i>豆瓣</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/mrzhu-xiao-zhuai" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;mrzhu-xiao-zhuai" rel="noopener" target="_blank"><i class="fab fa-zhihu fa-fw"></i>知乎</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">crayon</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/muse.js"></script>


<script src="/blog/js/next-boot.js"></script>




  















  

  

</body>
</html>
